# The loopback network interface
auto lo
iface lo inet loopback

# The primary network interface
<% configuration[:network][:interfaces].each do |iface| %>
# <%= iface.desc %>
auto <%= iface.name %>
iface <%= iface.name %> inet static
  <% if iface[:address] %>
  address <%= iface[:address] %>
  <% end %>
  <% if iface[:netmask] %>
  netmask <%= iface[:netmask] %>
  <% end %>
  <% if iface[:network] %>
  network <%= iface[:network] %>
  <% end %>
  <% if iface[:broadcast] %>
  broadcast <%= iface[:broadcast] %>
  <% end %>
  <% if iface[:gateway] %>
  gateway <%= iface.gateway %>
  <% end %>
<% end %>
